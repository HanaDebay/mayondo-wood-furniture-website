doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title MWF Sales Receipt
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="../css/receipt.css")
  body
    .receipt
      .receipt-header
        img(src="/images/mwflogo.png" alt="MWF Logo")
        h3.mb-0 Mayondo Wood & Furniture Ltd
        p.text-muted B2B Wood & Furniture Solutions
        hr

      h5.text-center.text-decoration-underline SALES RECEIPT

      // Customer & receipt Info
      .row.mb-3
        .col
          strong Receipt No:#{receipt._id}
        .col.text-end
          strong Date:#{new Date(receipt.dateOfSale).toLocaleDateString()}
      .row.mb-3
        .col
          strong Customer:#{receipt.customerName}
        .col.text-end
          - var agentName = receipt.salesAgent && receipt.salesAgent.fullName ? receipt.salesAgent.fullName : "N/A"
          strong Sales Agent:#{agentName}

      // Table of items
      table.table.table-bordered
        thead.table-light
          tr
            th Product
            th Type
            th Quantity
            th Unit Price
            th Total
        tbody
            tr
              td #{receipt.productName}
              td #{receipt.productType}
              td #{receipt.quantity}
              td #{receipt.sellingPrice.toLocaleString()} UGX
              td #{receipt.totalCost.toLocaleString()} UGX

      .text-end.mt-3
        p
          strong Subtotal:
          |  #{receipt.totalCost.toLocaleString()} UGX
        if receipt.transportation === 'company'
          tr
            td
            strong Transportation(5%):
            td -
            td -
            td -
            - var transportCost = receipt.totalCost * 0.05
            td #{transportCost.toLocaleString()} UGX
        h5
          strong Grand Total:
          |  #{receipt.totalCost.toLocaleString()} UGX

      .receipt-footer
        p Thank you for doing business with MWF Ltd!
        p For inquiries call: +256 700 123456 | Email: info@mwf.co.ug
        p.text-muted This receipt was system-generated and is valid without signature.
      button(onclick="window.print()" class="btn btn-primary") Print Receipt