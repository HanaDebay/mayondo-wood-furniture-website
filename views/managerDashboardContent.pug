extends managerDashboardLayout

block content
  h2.mb-4 ðŸ“Š Manager Dashboard
  h2 Welcome back #{managerName= manager.fullName} !
      .row.mb-4
        .col-md-3           
          .card.p-3.card-bg-color-two
            h5 Purchase Costs
            h6 Wood Stock
            p 
              | Wood Stock: 
              span#woodCost 0 UGX
            h6 Furniture Stock
            p 
              | Furniture Stock: 
              span#furnitureCost 0 UGX
            h5 Total Purchase
            p 
              | Total: 
              span#totalPurchase 0 UGX
        .col-md-3
          .card.p-3
            .card.p-3
              h6 Total Sales (Month)
              h4#totalSales #{new Intl.NumberFormat().format(totalSalesThisMonth)} UGX
        .col-md-3
          .card.p-3
            h6 Attendants
            h3#attendants #{attendantsCount}
        .col-md-3
          .card.p-3
            h6 Suppliers
            h3#suppliers #{suppliersCount}

      // Charts
      .row.mb-4
        .col-md-6
          .card.p-3
            h5.card-title Sales per Agent
            canvas#barChart(width="400" height="200")
        .col-md-6
          .card.p-3
            h5.card-title Category Breakdown
            canvas#pieChart(width="400" height="200")

      // Sales Trend
      .row.mb-4
        .col-md-12
          .card.p-3
            h5.card-title Monthly Sales
            canvas#lineChart(width="400" height="200")

      // Top Customers & Attendant Activity
      .row
        .col-md-6.mb-4
          .card
            .card-body
              h5.card-title Top Customers
              ul.list-group#topCustomers
                li.list-group-item Loading...


        .col-md-12.mb-4
          .card
            .card-body
              h5.card-title Attendant Activity Log
              table.table.table-striped
                thead
                  tr
                    th Agent
                    th Activity
                    th Date
                tbody
                  tr
                    td(colspan="3") Loading...


        script(src="https://cdn.jsdelivr.net/npm/chart.js")
        script(src="../js/dashboard.js")
        script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")

