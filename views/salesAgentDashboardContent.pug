extends salesAgentDashboardLayout 
block content
      h2.mb-4 ðŸ“Š Sales Agent Dashboard

      .row.mb-4
        .col-md-3
          .card.p-3
            h6 Total Sales (Month)
            h3#monthlySales UGX #{totalThisMonth.toLocaleString()}
        .col-md-3
          .card.p-3
            h6 Total Transactions
            h3#totalTransactions #{totalTransactions}
        .col-md-3
          .card.p-3
            h6 Pending Orders
            h3#pendingOrders 8
        .col-md-3
          .card.p-3
            h6 Stock Assigned
            h3#stockAssigned 120

      .row
        .col-md-12
          .card.p-3
            h6 Recent Transactions
            table.table.table-sm.table-striped
              thead
                tr
                  th Product
                  th Quantity
                  th Total Price
                  th Date
              tbody
                each sale in recentTransactions
                  tr
                    td= sale.productName
                    td= sale.quantity
                    td UGX #{sale.totalCost.toLocaleString()}
                    td= sale.dateOfSale.toISOString().substring(0, 10)
      .row.mt-4
        .col-md-12
          .card.p-3
            h6 Monthly Sales Chart
            canvas#monthlySalesChart(width="400" height="150")

      script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")
      script(src="https://cdn.jsdelivr.net/npm/chart.js")
      script(src="../js/salesAgentDashboard.js")
      script.
        const monthlySalesData = !{JSON.stringify(monthlySalesByDay)};
