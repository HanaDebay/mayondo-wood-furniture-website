doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Record Sale | MWF Ltd
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="../css/recordSale.css")
  body
    // Navbar
    nav.navbar
      .navbar-container
        .brand
          a(href="/") MWF
        ul.nav-links#navLinks
          li
            a(href="/sales-agent-dashboard") Dashboard
          li
            a(href="/record-sale") Record Sale
          li
            a(href="/my-sales") My Sales
          li
            a(href="/view-stock") View Stock
          li
            a(href="/logout") Logout
        button.nav-toggle(type="button" id="navToggle" aria-label="Toggle navigation") ☰

    // Main content
    .container.py-5
      .row.justify-content-center
        .col-lg-8
          .card.shadow-lg.rounded-4
            .card-header.bg-success.text-white.text-center.py-3.rounded-top-4
              h3 Record Sale
            .card-body.p-4
              form#recordSaleForm(action="/record-sale" method="POST" autocomplete="on")
                // Sales Agent
                .mb-3
                  label.form-label Sales Agent
                  input.form-control(type="text" value=agent.fullName readonly)

                // Product Type
                .mb-3
                  label.form-label Product Type
                  select#productType.form-select(name="productType" required)
                    option(value="" disabled selected) Select product type
                    option(value="wood") Wood
                    option(value="furniture") Furniture

                // Product Selection
                .mb-3
                  label.form-label Product
                  select#productId.form-select(name="productId" required)
                    option(value="" disabled selected) Select product

                // Available Stock
                .mb-3
                  label.form-label Available Stock
                  input#availableStock.form-control(type="number" readonly)

                // Unit Price
                .mb-3
                  label.form-label Unit Price (UGX)
                  input#unitPrice.form-control(type="number" name="unitPrice" readonly)

                // Quantity
                .mb-3
                  label.form-label Quantity
                  input#quantity.form-control(type="number" name="quantity" min="1" required)

                // Transportation
                .form-check.mb-3
                  input#transportation.form-check-input(type="checkbox" name="transportation" value="company")
                  label.form-check-label(for="transportation") Transportation from company (+5% cost)

                // Total Cost
                .mb-3
                  label.form-label Total Cost (UGX)
                  input#totalCost.form-control(type="number" name="totalCost" readonly)

                // Customer Name
                .mb-3
                  label.form-label Customer Name
                  input.form-control(type="text" name="customerName" placeholder="Enter customer name" required)

                // Payment Method
                .mb-3
                  label.form-label Payment Method
                  select.form-select(name="paymentMethod" required)
                    option(value="" disabled selected) Select payment method
                    option(value="cash") Cash
                    option(value="bank") Bank Transfer
                    option(value="mobile") Mobile Money

                // Sale Date
                .mb-3
                  label.form-label Date of Sale
                  input.form-control(type="date" name="dateOfSale" value=new Date().toISOString().substring(0,10) required)

                .d-flex.justify-content-between.mt-4
                  button.btn.btn-success(type="submit") Record Sale
                  button.btn.btn-outline-secondary(type="reset") Clear

    // Footer
    footer.site-footer.text-center.py-3.mt-5
      small © 
        span#year
        |  MWF Ltd • All rights reserved.

    // Bootstrap JS
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")
    script.
      window.woodStocks = !{JSON.stringify(woodStocks)};
      window.furnitureStocks = !{JSON.stringify(furnitureStocks)};
      window.agentInfo = !{JSON.stringify(agent)};
    script(src="../js/recordSale.js")
